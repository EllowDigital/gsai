{"version":3,"file":"use-scroll-animation-DchNDcrB.js","sources":["../../src/hooks/use-scroll-animation.tsx"],"sourcesContent":["\r\nimport { useEffect, useRef, RefObject } from 'react';\r\n\r\ninterface ScrollAnimationOptions {\r\n  threshold?: number;\r\n  rootMargin?: string;\r\n  once?: boolean;\r\n  delay?: number;\r\n  animationType?: 'fade' | 'slide' | 'zoom' | 'flip';\r\n  direction?: 'up' | 'down' | 'left' | 'right';\r\n  duration?: number;\r\n}\r\n\r\n/**\r\n * Enhanced hook to add scroll-triggered animations to elements with improved performance.\r\n */\r\nexport const useScrollAnimation = <T extends HTMLElement>(options: ScrollAnimationOptions = {}): RefObject<T> => {\r\n  const elementRef = useRef<T>(null);\r\n\r\n  // Destructuring options with default values\r\n  const {\r\n    threshold = 0.1,\r\n    rootMargin = '0px 0px -5% 0px',\r\n    once = true,\r\n    delay = 0,\r\n    animationType = 'fade',\r\n    direction = 'up',\r\n    duration = 300\r\n  } = options;\r\n\r\n  useEffect(() => {\r\n    const element = elementRef.current;\r\n    if (!element) return;\r\n\r\n    // Add appropriate initial animation classes\r\n    element.classList.add('scroll-animate');\r\n    \r\n    // Apply style for faster animations\r\n    element.style.transition = `opacity ${duration}ms ease-out, transform ${duration}ms ease-out`;\r\n    element.style.willChange = 'opacity, transform';\r\n    \r\n    // Set initial invisible state but make sure it's not displayed: none\r\n    element.style.opacity = '0';\r\n    element.style.visibility = 'hidden';\r\n    \r\n    // Apply transform based on animation type and direction\r\n    if (animationType === 'fade') {\r\n      element.style.transform = 'translateY(10px)';\r\n    } else if (animationType === 'slide') {\r\n      if (direction === 'up') element.style.transform = 'translateY(20px)';\r\n      if (direction === 'down') element.style.transform = 'translateY(-20px)';\r\n      if (direction === 'left') element.style.transform = 'translateX(20px)';\r\n      if (direction === 'right') element.style.transform = 'translateX(-20px)';\r\n    } else if (animationType === 'zoom') {\r\n      element.style.transform = 'scale(0.95)';\r\n    } else if (animationType === 'flip') {\r\n      element.style.transform = 'perspective(400px) rotateX(10deg)';\r\n    }\r\n\r\n    // Apply delay if specified\r\n    if (delay > 0) {\r\n      element.style.transitionDelay = `${delay}ms`;\r\n    }\r\n\r\n    // Intersection Observer to trigger animations when the element enters the viewport\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            const target = entry.target as HTMLElement;\r\n            \r\n            // Show element with animation\r\n            target.style.visibility = 'visible';\r\n            target.style.opacity = '1';\r\n            target.style.transform = 'translateY(0) scale(1) rotateX(0)';\r\n            \r\n            // Clean up properties after animation completes\r\n            setTimeout(() => {\r\n              if (target && once) {\r\n                target.style.willChange = 'auto';\r\n              }\r\n            }, duration + delay);\r\n\r\n            // If 'once' is true, stop observing after first visibility\r\n            if (once) {\r\n              observer.unobserve(target);\r\n            }\r\n          } else if (!once) {\r\n            // Reset the element if it leaves viewport and 'once' is false\r\n            const target = entry.target as HTMLElement;\r\n            target.style.visibility = 'hidden';\r\n            target.style.opacity = '0';\r\n            \r\n            // Reset transform based on animation type\r\n            if (animationType === 'fade') {\r\n              target.style.transform = 'translateY(10px)';\r\n            } else if (animationType === 'slide') {\r\n              if (direction === 'up') target.style.transform = 'translateY(20px)';\r\n              if (direction === 'down') target.style.transform = 'translateY(-20px)';\r\n              if (direction === 'left') target.style.transform = 'translateX(20px)';\r\n              if (direction === 'right') target.style.transform = 'translateX(-20px)';\r\n            } else if (animationType === 'zoom') {\r\n              target.style.transform = 'scale(0.95)';\r\n            }\r\n          }\r\n        });\r\n      },\r\n      { threshold, rootMargin }\r\n    );\r\n\r\n    // Start observing the element\r\n    observer.observe(element);\r\n\r\n    return () => {\r\n      // Cleanup observer on component unmount\r\n      if (element) {\r\n        observer.unobserve(element);\r\n      }\r\n    };\r\n  }, [threshold, rootMargin, once, delay, animationType, direction, duration]);\r\n\r\n  return elementRef;\r\n};\r\n\r\nexport default useScrollAnimation;\r\n"],"names":["useScrollAnimation","options","elementRef","useRef","threshold","rootMargin","once","delay","animationType","direction","duration","useEffect","element","observer","entries","entry","target"],"mappings":"wCAgBO,MAAMA,EAAqB,CAAwBC,EAAkC,KAAqB,CACzG,MAAAC,EAAaC,SAAU,IAAI,EAG3B,CACJ,UAAAC,EAAY,GACZ,WAAAC,EAAa,kBACb,KAAAC,EAAO,GACP,MAAAC,EAAQ,EACR,cAAAC,EAAgB,OAChB,UAAAC,EAAY,KACZ,SAAAC,EAAW,GAAA,EACTT,EAEJU,OAAAA,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAUV,EAAW,QAC3B,GAAI,CAACU,EAAS,OAGNA,EAAA,UAAU,IAAI,gBAAgB,EAGtCA,EAAQ,MAAM,WAAa,WAAWF,CAAQ,0BAA0BA,CAAQ,cAChFE,EAAQ,MAAM,WAAa,qBAG3BA,EAAQ,MAAM,QAAU,IACxBA,EAAQ,MAAM,WAAa,SAGvBJ,IAAkB,OACpBI,EAAQ,MAAM,UAAY,mBACjBJ,IAAkB,SACvBC,IAAc,OAAcG,EAAA,MAAM,UAAY,oBAC9CH,IAAc,SAAgBG,EAAA,MAAM,UAAY,qBAChDH,IAAc,SAAgBG,EAAA,MAAM,UAAY,oBAChDH,IAAc,UAAiBG,EAAA,MAAM,UAAY,sBAC5CJ,IAAkB,OAC3BI,EAAQ,MAAM,UAAY,cACjBJ,IAAkB,SAC3BI,EAAQ,MAAM,UAAY,qCAIxBL,EAAQ,IACFK,EAAA,MAAM,gBAAkB,GAAGL,CAAK,MAI1C,MAAMM,EAAW,IAAI,qBAClBC,GAAY,CACHA,EAAA,QAASC,GAAU,CACzB,GAAIA,EAAM,eAAgB,CACxB,MAAMC,EAASD,EAAM,OAGrBC,EAAO,MAAM,WAAa,UAC1BA,EAAO,MAAM,QAAU,IACvBA,EAAO,MAAM,UAAY,oCAGzB,WAAW,IAAM,CACXA,GAAUV,IACZU,EAAO,MAAM,WAAa,OAC5B,EACCN,EAAWH,CAAK,EAGfD,GACFO,EAAS,UAAUG,CAAM,CAC3B,SACS,CAACV,EAAM,CAEhB,MAAMU,EAASD,EAAM,OACrBC,EAAO,MAAM,WAAa,SAC1BA,EAAO,MAAM,QAAU,IAGnBR,IAAkB,OACpBQ,EAAO,MAAM,UAAY,mBAChBR,IAAkB,SACvBC,IAAc,OAAaO,EAAA,MAAM,UAAY,oBAC7CP,IAAc,SAAeO,EAAA,MAAM,UAAY,qBAC/CP,IAAc,SAAeO,EAAA,MAAM,UAAY,oBAC/CP,IAAc,UAAgBO,EAAA,MAAM,UAAY,sBAC3CR,IAAkB,SAC3BQ,EAAO,MAAM,UAAY,cAC3B,CACF,CACD,CACH,EACA,CAAE,UAAAZ,EAAW,WAAAC,CAAW,CAC1B,EAGA,OAAAQ,EAAS,QAAQD,CAAO,EAEjB,IAAM,CAEPA,GACFC,EAAS,UAAUD,CAAO,CAE9B,CAAA,EACC,CAACR,EAAWC,EAAYC,EAAMC,EAAOC,EAAeC,EAAWC,CAAQ,CAAC,EAEpER,CACT"}