import{r as n}from"./index-DJOgVsH6.js";function b(d={}){const{speed:c=.2,direction:a="vertical",reverse:u=!1,disabled:s=!1}=d,t=n.useRef(null),[o,w]=n.useState(0),[l,g]=n.useState(!1),i=n.useRef(null),f=u?-1:1;return n.useEffect(()=>{if(s)return;const r=t.current;if(!r)return;const e=new IntersectionObserver(([m])=>{g(m.isIntersecting)},{threshold:.1,rootMargin:"50px"});return e.observe(r),()=>{e.disconnect()}},[s]),n.useEffect(()=>{if(s||!l||!t.current)return;const r=()=>{if(!t.current)return;const e=t.current.getBoundingClientRect(),h=window.innerHeight/2,p=e.top+e.height/2-h;w(p*c*f),i.current=requestAnimationFrame(r)};return i.current=requestAnimationFrame(r),()=>{i.current&&cancelAnimationFrame(i.current)}},[c,u,s,l,f]),n.useEffect(()=>{if(s||!t.current)return;const r=a==="vertical"?`translateY(${o}px)`:`translateX(${o}px)`,e=t.current;return e.style.transform=r,e.style.transition="transform 0.1s cubic-bezier(0.33, 1, 0.68, 1)",e.style.willChange="transform",()=>{e&&(e.style.willChange="auto")}},[o,a,s]),t}export{b as u};
//# sourceMappingURL=use-parallax-UDyxrI07.js.map
